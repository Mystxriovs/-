<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>(づ ◕‿◕ )づ</title>
  <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
  <style>
    body {
      overflow-x: hidden;
    }  

    #yes, #no {
      background-color: #F3CFC6;
      transition: transform 0.3s ease;
      min-width: 80px;
      min-height: 40px;
      flex-shrink: 0;
    }

    #image {
      display: block;
      margin: 0 auto;
      width: 200px;
      height: 200px;
    }

    .button-container {
      margin-top: 80px;
      display: flex;
      justify-content: center;
      align-items: flex-end;
      gap: 1rem;
    }

    #toggle-music {
      margin-top: 20px;
    }
  </style>
</head>

<body>
  <div class="container mt-5 text-center">
    <img src="image1.jpg" id="image">
    <h2 class="text-dark mt-3" id="text1">Can you be my one and only? </h2>
    <div class="button-container">
      <button class="btn btn-dark" id="yes">YES</button>
      <button class="btn btn-dark" id="no">NO</button>
    </div>
    <button class="btn btn-secondary" id="toggle-music" style="display:none;">Play Music</button>
  </div>

  <audio id="bg-music" autoplay loop>
    <source src="music.mp3" type="audio/mpeg">
  </audio>

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
  <script>
    const music = document.getElementById("bg-music");
    const toggleBtn = document.getElementById("toggle-music");

    // Try to autoplay music
    window.addEventListener('load', () => {
      const playMusic = () => {
        music.play().then(() => {
          toggleBtn.textContent = "Pause Music";
          toggleBtn.style.display = "inline-block";
        }).catch(() => {
          // Autoplay failed; show toggle to let user start it
          toggleBtn.textContent = "Play Music";
          toggleBtn.style.display = "inline-block";
        });
      };

      // Delay a bit to improve chances of autoplay working
      setTimeout(playMusic, 500);
    });

    // Toggle button behavior
    toggleBtn.addEventListener("click", () => {
      if (music.paused) {
        music.play();
        toggleBtn.textContent = "Pause Music";
      } else {
        music.pause();
        toggleBtn.textContent = "Play Music";
      }
    });

    // Button logic
    $(document).ready(function(){
      let scaleFactor = 1;
      let clickCount = 0;

      $("#yes").click(function(){
        window.location.href = "yes.html";
      });

      $("#no").click(function() {
        scaleFactor++;
        clickCount++;

        $("#yes").css("transform", "scale(" + scaleFactor + ")");

        const images = ["image2.jpg", "image3.jpg", "image4.jpg", "image5.jpg", "image10.jpg", "image6.jpg", "image7.jpg", "image8.jpg", "image9.jpg"];
        const messages = [
          "Do you want to rethink about it?",
          "I don't allow this.",
          "I'm going to be sad.",
          "This is serious business!",
          "I'm not joking now...",
          "Are you trying to break my heart?",
          "We're running out of chances...",
          "You're making me very emotional.",
          "I really thought you were the one!"
        ];

        if (clickCount <= messages.length) {
          $("#no").text(messages[clickCount - 1]);
          $("#image").attr("src", images[clickCount - 1]);
          $("#no").css("transform", "translateX(" + (scaleFactor * 50) + "px)");
        }
      });
    });
  </script>
</body>
</html>
